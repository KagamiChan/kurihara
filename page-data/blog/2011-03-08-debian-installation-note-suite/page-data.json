{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/2011-03-08-debian-installation-note-suite/","result":{"data":{"site":{"siteMetadata":{"title":"少年读书隙中窥月"}},"markdownRemark":{"id":"6522b136-43df-59ae-bf84-8225ae0ff2a3","excerpt":"上次使用虚拟机的时侯北航的 Debian 源不知为何挂掉了，于是只能用外边的源来更新。日志写完之后才听说是可以用的。——我自己设置 deb 源的时侯填错了也不奇怪。校内源的速度不是校外能比的，看着虚拟机里边几兆几兆的下载，我决定直接装真实系统。于是就在计算机上划出 30G…","html":"<p>上次使用虚拟机的时侯北航的 Debian 源不知为何挂掉了，于是只能用外边的源来更新。日志写完之后才听说是可以用的。——我自己设置 deb 源的时侯填错了也不奇怪。校内源的速度不是校外能比的，看着虚拟机里边几兆几兆的下载，我决定直接装真实系统。于是就在计算机上划出 30G 的空间，安装了真实系统。</p>\n<p>最开始装的桌面套件是 KDE，但是 KDE 的权限管理很严格，所有的图形程序都无法运行，于是 Dolphin 无法 mount 我的 NTFS 分区，自然也打不开我之前存放着的 H3C 上网客户端，不得已，退回到 WIN 下把客户端拷到了 U 盘里。</p>\n<p>本来想要安装的是 iNode 的 linux 版本，那个版本有一个图形界面，比较直观。但是屡次安装都提示 libncurse 库找不到，无奈，第二次回到 WIN，把另外一个命令行客户端拷上。但是执行安装的时候还是出现了这个错误，于是我怀疑是不是真的缺少了什么库。用 CDROM 源安装了各种各样的 C 库，但是还是无法成功。又是 WIN，联网，查看网上的说法，说是 amd64 系统中需要安装 32 位兼容库，它们都是以 lib32*打头的。于是 apt-get 安装了那个库，提示缺少另外一个 libstdc，但是我已经安装了新版本，看来是用特定的版本的，于是最后无奈原路返回上网找了这么一个特定版本。经过如此反复地重新启动，我花了 2 小时的时间总算上了网。</p>\n<p>KDE 桌面在我的虚拟机上跑起来不快，但是我认为在真实系统中应该还是会很流畅的，但是结果令我有点失望，KDE 的反应速度并没有想象中的那么好。而且播放视频的时候居然会卡。于是在安装软件的中途，我决定更换成 Gnome 套件。其实着一个操作完全用不着重新安装操作系统，只需要把 kde 的包给删除了换上 gnome，再设置默认登录界面即可，但是这样修改完了之后还是感觉不舒服，于是擦除磁盘重新安装。</p>\n<p>第二次安装与配置还是挺顺利的，毕竟有了前一次的刻骨铭心的经验。但是折腾了一个小时之后我突然发现，系统没有声音……这个问题其实挺严重的，我先是去板载声卡芯片厂商 Realtek 的官网下载了驱动，但是安装过程中由于缺失 alsaconf 无法安装。查看了网上的讨论，说是这个程序已经不包含在 Squeeze 当中了。按照 Debian 的 WIKI 的说明，安装了 alsa 的几个包，打开 alsamixer 调节了音量（似乎不调节的话就是静音），总算出了声音了。</p>\n<p>这次安装最后的悲剧在于，安装了 ATI 提供的闭源驱动。原本以为这个驱动会不错的，但是重新启动之后就进不了图形界面了，而且这个驱动还不包含卸载程序。Debian 没有系统还原，但是有命令行 Rescue 模式，只是我不知道要 mount 什么设备加载什么驱动才能够上网，而不能上网的话，有些包就下不下来了。的确可以又以 WIN 启动然后再慢慢找说法，但是我还是觉得重装一遍更快捷。</p>\n<p>于是现在我是在第三个安装当中写的这篇文章。Gnome 界面虽然不好看，但是还是很省心的。至于 Ubuntu 中的种种特效，其实是 COMPIZ。</p>\n<p>最后，安装的时候要把语言选择成为 en-US，这样的话之后在命令行下即使 locale 不对，也不会出现中文只能显示成为小方块的错误。至于添加简体中文，对于 KDE 程序来说有专门的 zhcn 语言包，gnome 只需要用 dpkg-reconfigurationlocales 命令，重新启动即可。</p>\n<p>目前在使用的输入法是 fcitx，感觉用默认词库的效果还行，听说 Sunpinyin 也不错，以后再尝试。</p>","frontmatter":{"title":"Debian 安装手记 2","publish_date":"2011-03-08T16:36:59.000+08:00","revise_date":"2011-03-08T16:36:59.000+08:00","draft":false}}},"pageContext":{"previous":{"id":"44c18ed5-be90-5a5f-8385-d24eff7c4030","fields":{"slug":"/blog/2011-03-06-debian-installation-note/","type":"blog","timeToRead":{"words":838,"minutes":5}},"frontmatter":{"title":"Debian 安装手记","publish_date":"2011-03-06T23:14:16.000+08:00"}},"slug":"/blog/2011-03-08-debian-installation-note-suite/"}},"staticQueryHashes":["1330398833","2356112386"],"slicesMap":{}}